<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An R Client to Retrieve Data from DHIS2 • khisr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An R Client to Retrieve Data from DHIS2">
<meta name="description" content="Provides a user-friendly interface for interacting with the District Health Information Software 2 (DHIS2) instance. It streamlines data retrieval, empowering researchers, analysts, and healthcare professionals to obtain and utilize data efficiently.">
<meta property="og:description" content="Provides a user-friendly interface for interacting with the District Health Information Software 2 (DHIS2) instance. It streamlines data retrieval, empowering researchers, analysts, and healthcare professionals to obtain and utilize data efficiently.">
<meta property="og:image" content="https://khisr.damurka.com/logo.png">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">khisr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/khisr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/data-dimensions.html">Data Dimensions</a></li>
    <li><a class="dropdown-item" href="articles/date-format.html">Date and Period Format</a></li>
    <li><a class="dropdown-item" href="articles/set-your-credentials.html">Set your credentials</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/damurka/khisr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="khisr-">khisr 
<a class="anchor" aria-label="anchor" href="#khisr-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The khisr package is designed to seamlessly integrate with DHIS2, providing R users with a powerful interface for efficient data retrieval. DHIS2 is a cornerstone in health information management for many organisations, and khisr simplifies the process of accessing and working with DHIS2 data directly within the R environment.</p>
<div class="section level3">
<h3 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h3>
<ul>
<li>
<strong><em>Data Retrieval:</em></strong> Easily download and manage data from DHIS2.</li>
<li>
<strong><em>Flexible Queries:</em></strong> Customize data queries to retrieve specific data elements, periods, and organizational units.</li>
<li>
<strong><em>Secure Access:</em></strong> Manage credentials securely within your R environment.</li>
</ul>
</div>
<div class="section level3">
<h3 id="use-cases">Use Cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h3>
<ul>
<li>Health data analysis for research.</li>
<li>Monitoring and evaluation of health programs</li>
<li>Generating reports and dashboards for health information systems.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="stable-release">Stable Release<a class="anchor" aria-label="anchor" href="#stable-release"></a>
</h3>
<p>You can install the release version of khisr from <a href="https://cran.r-project.org/" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"khisr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="development-version">Development Version<a class="anchor" aria-label="anchor" href="#development-version"></a>
</h3>
<p>And the development version of khisr like so:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages('pak')</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">'damurka/khisr'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="load-khisr-package">Load khisr package<a class="anchor" aria-label="anchor" href="#load-khisr-package"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://khisr.damurka.com">"khisr"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="auth">Auth<a class="anchor" aria-label="anchor" href="#auth"></a>
</h3>
<p>The khisr package operates in authenticated mode by default. This means you’ll need to provide credentials before using any functions that interact with your DHIS2 instance to download data. To ensure secure access, khisr offers a convenient way to store your credentials within your R environment. Refer to the following resource for detailed instructions on setting your credentials: <a href="https://khisr.damurka.com/articles/set-your-credentials.html">set you credentials</a></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Option 1: Set credentials directly in R (less secure)</span></span>
<span></span>
<span><span class="fu"><a href="reference/khis_cred.html">khis_cred</a></span><span class="op">(</span>username <span class="op">=</span> <span class="st">'DHIS2 username'</span>, </span>
<span>          password <span class="op">=</span> <span class="st">'DHIS2 password'</span>, </span>
<span>          server <span class="op">=</span> <span class="st">'https://&lt;dhis2 server instance&gt;'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 2: Set credentials from a secure configuration file (recommended)</span></span>
<span></span>
<span><span class="fu"><a href="reference/khis_cred.html">khis_cred</a></span><span class="op">(</span>config_path <span class="op">=</span> <span class="st">'path/to/secret.json'</span><span class="op">)</span></span></code></pre></div>
<p>Once you’ve established your credentials, you’re ready to leverage khisr’s functions to download data from your DHIS2 instance.</p>
<p>For this overview, we’ve logged into DHIS2 as a specific user in a hidden chunk.</p>
</div>
</div>
<div class="section level2">
<h2 id="basic-overview">Basic Overview<a class="anchor" aria-label="anchor" href="#basic-overview"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve the organisation units by county (level 2)</span></span>
<span><span class="va">counties</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/metadata-helpers.html">get_organisation_units</a></span><span class="op">(</span><span class="va">level</span> <span class="op"><a href="reference/metadata-filter.html">%.eq%</a></span> <span class="st">'2'</span><span class="op">)</span></span>
<span><span class="va">counties</span></span>
<span><span class="co">#&gt; # A tibble: 47 × 2</span></span>
<span><span class="co">#&gt;    name                   id         </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                  &lt;chr&gt;      </span></span>
<span><span class="co">#&gt;  1 Baringo County         vvOK1BxTbet</span></span>
<span><span class="co">#&gt;  2 Bomet County           HMNARUV2CW4</span></span>
<span><span class="co">#&gt;  3 Bungoma County         KGHhQ5GLd4k</span></span>
<span><span class="co">#&gt;  4 Busia County           Tvf1zgVZ0K4</span></span>
<span><span class="co">#&gt;  5 Elgeyo Marakwet County MqnLxQBigG0</span></span>
<span><span class="co">#&gt;  6 Embu County            PFu8alU2KWG</span></span>
<span><span class="co">#&gt;  7 Garissa County         uyOrcHZBpW0</span></span>
<span><span class="co">#&gt;  8 Homa Bay County        nK0A12Q7MvS</span></span>
<span><span class="co">#&gt;  9 Isiolo County          bzOfj0iwfDH</span></span>
<span><span class="co">#&gt; 10 Kajiado County         Hsk1YV8kHkT</span></span>
<span><span class="co">#&gt; # ℹ 37 more rows</span></span>
<span></span>
<span><span class="co"># Retrieve organisation units by name (level included to ensure it refers to county)</span></span>
<span><span class="va">kiambu_county</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/metadata-helpers.html">get_organisation_units</a></span><span class="op">(</span><span class="va">level</span> <span class="op"><a href="reference/metadata-filter.html">%.eq%</a></span> <span class="st">'2'</span>, </span>
<span>                                        <span class="va">name</span> <span class="op"><a href="reference/metadata-filter.html">%.like%</a></span> <span class="st">'Kiambu'</span><span class="op">)</span></span>
<span><span class="va">kiambu_county</span></span>
<span></span>
<span><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span><span class="co">#&gt;   name          id         </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;      </span></span>
<span><span class="co">#&gt; 1 Kiambu County qKzosKQPl6G</span></span>
<span></span>
<span><span class="co"># Retrieve all data elements by data element group for outpatient (data element group name MOH 705)</span></span>
<span><span class="va">moh_705</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/metadata-helpers.html">get_data_elements</a></span><span class="op">(</span><span class="va">dataElementGroups.name</span> <span class="op"><a href="reference/metadata-filter.html">%.like%</a></span> <span class="st">'moh 705'</span><span class="op">)</span></span>
<span><span class="va">moh_705</span></span>
<span></span>
<span><span class="co">#&gt; # A tibble: 96 × 2</span></span>
<span><span class="co">#&gt;    name                         id         </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                        &lt;chr&gt;      </span></span>
<span><span class="co">#&gt;  1 Abortion                     IrWSgk9GsUm</span></span>
<span><span class="co">#&gt;  2 All other diseases           KxT47tbKHsd</span></span>
<span><span class="co">#&gt;  3 Anaemia cases                kkUHOwGMawD</span></span>
<span><span class="co">#&gt;  4 Arthritis, Joint pains etc.  waNhWrS3HL6</span></span>
<span><span class="co">#&gt;  5 Asthma                       L82lvvxVaqt</span></span>
<span><span class="co">#&gt;  6 Autism                       L529r3Wvtcf</span></span>
<span><span class="co">#&gt;  7 Bilharzia  (Schistosomiasis) ojFSHMwbkHK</span></span>
<span><span class="co">#&gt;  8 Brucellosis                  nb9cfWgxYFc</span></span>
<span><span class="co">#&gt;  9 Burns                        dkEYL9Sous9</span></span>
<span><span class="co">#&gt; 10 Cardiovascular conditions    sZETzNe1To8</span></span>
<span><span class="co">#&gt; # ℹ 86 more rows</span></span>
<span></span>
<span><span class="co"># Filter the data element to element that contain malaria</span></span>
<span><span class="va">malaria</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/metadata-helpers.html">get_data_elements</a></span><span class="op">(</span><span class="va">dataElementGroups.name</span> <span class="op"><a href="reference/metadata-filter.html">%.like%</a></span> <span class="st">'moh 705'</span>, </span>
<span>                             <span class="va">name</span> <span class="op"><a href="reference/metadata-filter.html">%.like%</a></span> <span class="st">'malaria'</span><span class="op">)</span></span>
<span><span class="va">malaria</span></span>
<span></span>
<span><span class="co">#&gt; # A tibble: 4 × 2</span></span>
<span><span class="co">#&gt;   name                                    id         </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                   &lt;chr&gt;      </span></span>
<span><span class="co">#&gt; 1 Confirmed Malaria (only Positive cases) OoakJhWiyZp</span></span>
<span><span class="co">#&gt; 2 Malaria in pregnancy                    gvZmXInRLuD</span></span>
<span><span class="co">#&gt; 3 MOH 705A Rev 2020_ Tested for Malaria   siOyOiOJpI8</span></span>
<span><span class="co">#&gt; 4 Suspected  Malaria                      Lt0FqtnHraW</span></span>
<span></span>
<span><span class="co"># Retrieve data for malaria in Kiambu county in the outpatient data element groups</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_analytics.html">get_analytics</a></span><span class="op">(</span></span>
<span>        <span class="va">dx</span> <span class="op"><a href="reference/analytics-dimension.html">%.d%</a></span> <span class="va">malaria</span><span class="op">$</span><span class="va">id</span>,</span>
<span>        <span class="va">pe</span> <span class="op"><a href="reference/analytics-dimension.html">%.d%</a></span> <span class="st">'LAST_YEAR'</span>,</span>
<span>        <span class="va">ou</span> <span class="op"><a href="reference/analytics-dimension.html">%.f%</a></span> <span class="va">kiambu_county</span><span class="op">$</span><span class="va">id</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">left_join</span><span class="op">(</span><span class="va">malaria</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'dx'</span><span class="op">=</span><span class="st">'id'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 4</span></span>
<span><span class="co">#&gt;   dx          pe    value name                                   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;                                  </span></span>
<span><span class="co">#&gt; 1 Lt0FqtnHraW 2023  31101 Suspected  Malaria                     </span></span>
<span><span class="co">#&gt; 2 OoakJhWiyZp 2023   5092 Confirmed Malaria (only Positive cases)</span></span>
<span><span class="co">#&gt; 3 siOyOiOJpI8 2023  20554 MOH 705A Rev 2020_ Tested for Malaria  </span></span>
<span><span class="co">#&gt; 4 gvZmXInRLuD 2023    397 Malaria in pregnancy</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="where-to-learn-more">Where to learn more<a class="anchor" aria-label="anchor" href="#where-to-learn-more"></a>
</h2>
<p><a href="https://khisr.damurka.com/articles/khisr.html">Get Started</a> is a more extensive general introduction to khisr.</p>
<p>Browse the <a href="https://khisr.damurka.com/articles/index.html">articles index</a> to find articles that cover various topics in more depth.</p>
<p>See the <a href="https://khisr.damurka.com/reference/index.html">function index</a> for an organized, exhaustive listing.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the khisr project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=khisr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/damurka/khisr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/damurka/khisr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing khisr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Kariuki <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0009-0003-6159-1107" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=khisr" class="external-link"><img src="https://www.r-pkg.org/badges/version/khisr" alt="CRAN status"></a></li>
<li><a href="https://github.com/damurka/khisr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/damurka/khisr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/damurka/khisr?branch=main" class="external-link"><img src="https://codecov.io/gh/damurka/khisr/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Kariuki.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
