---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
auth_success <- tryCatch(
  khisr:::khis_cred_docs(),
  khis_cred_internal_error = function(e) e
)

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  error = TRUE,
  purl = khisr::khis_has_cred(),
  eval = khisr::khis_has_cred()
)
```

```{r eval = !khisr::khis_has_cred(), echo = FALSE, comment = NA}
cli:::cli_inform(c(
  "Code chunks will not be evaluated, because:",
  strsplit(auth_success$message, split = "\n")[[1]]
))
khisr::khis_cred_clear()
```

# khisr <a href="https://khisr.damurka.com"><img src="man/figures/logo.png" align="right" height="139" alt="khisr website" /></a>

<!-- badges: start -->
<!-- badges: end -->

The khisr package is designed to seamlessly integrate with the Kenya Health Information System (KHIS), providing R users with a powerful interface for efficient data retrieval. KHIS is a cornerstone in health information management in Kenya, and khisr simplifies the process of accessing and working with KHIS data directly within the R environment.

## Installation

You can install the development version of khisr like so:

``` r
#install.packages('pak')
pak::pak('damurka/khisr')
```

### Load khisr package

```{r}
library("khisr")
```

### Auth

khisr will, by default, help you interact with KHIS as an authenticated user. 
Before calling any function that makes an API call you need credentials to 
[KHIS](https://hiskenya.org). You will be expected to set this credential to 
download data.

```{r eval = FALSE}
# Set the credentials using username and password
khis_cred(username = 'KHIS username', password = 'KHIS password')

# Set credentials using configuration path
khis_cred(config_path = 'path/to/secret.json')
```

After setting the credential you can invoke any function to download data from the API.

For this overview, we've logged into KHIS as a specific user in a hidden chunk.

## Code of Conduct

Please note that the khisr project is released with a [Contributor Code of Conduct](https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.

